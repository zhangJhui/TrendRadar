# TrendRadar 项目概览

## 项目简介

TrendRadar 是一个**智能热点新闻聚合与分析工具**，旨在帮助用户高效监控多平台热门话题，避免信息过载。它就像一个个性化的新闻雷达，只推送你关心的内容。

## 核心功能

### 🌐 多平台新闻聚合
- **支持11个默认平台**：知乎、抖音、哔哩哔哩、华尔街见闻、贴吧、百度热搜、财联社、澎湃新闻、凤凰新闻、今日头条、微博
- **可自定义平台列表**：根据兴趣添加/移除平台
- **实时数据抓取**：可配置的自动抓取间隔

### 🎯 智能内容过滤
- **关键词过滤**：使用 `frequency_words.txt` 定义感兴趣的话题
- **高级语法支持**：
  - 正则表达式 (`/pattern/`)
  - 必须包含关键词 (`+keyword`)
  - 排除关键词 (`!keyword`)
  - 全局过滤器
  - 显示别名 (`keyword => alias`)
- **智能匹配**：防止误匹配（如"AI"不会匹配"MAIL"）

### 📡 RSS 订阅集成 (v4.5.0+)
- **RSS/Atom 支持**：除热榜外还可订阅自定义RSS源
- **统一处理**：RSS内容使用相同的关键词过滤
- **新鲜度过滤**：可配置文章时效性限制

### 📊 多种报告模式
- **每日汇总** (`daily`)：完整的每日新闻概览
- **当前热点** (`current`)：实时热点话题及排名变化
- **增量模式** (`incremental`)：仅推送新内容，零重复

### 🤖 AI 智能分析 (v5.0.0+)
- **深度分析**：AI生成热点洞察、情感分析、跨平台关联
- **多AI提供商**：DeepSeek（默认）、OpenAI、Google Gemini、自定义端点
- **可定制提示词**：用户自定义AI分析模板
- **双推送模式**：纯AI分析或与原始内容结合

### 📱 全面通知系统
- **多渠道支持**：企业微信、飞书、钉钉、Telegram、邮件、ntfy、Bark、Slack、通用Webhook
- **多账号支持**：每个渠道可配置多个账号
- **智能分批**：自动处理平台消息长度限制
- **时间窗口控制**：配置通知发送时间

## 技术架构

### 核心组件
- **Python 基础**：现代 Python 3.10+ 带类型提示
- **模块化设计**：清晰的关注点分离（爬虫、存储、通知、分析）
- **存储灵活性**：SQLite（本地）+ S3兼容云存储（远程）
- **MCP 集成**：模型上下文协议用于AI交互

### 关键模块
- **`trendradar/`**：主应用逻辑
- **`mcp_server/`**：AI分析服务器，包含21个专用工具
- **`config/`**：配置文件（YAML + 关键词定义）
- **`docker/`**：容器化支持

### 存储架构 (v4.0.0 重新设计)
- **双后端**：本地SQLite和远程云存储自动选择
- **数据保留**：可配置的清理策略
- **格式支持**：SQLite（主要）、TXT快照、HTML报告

## 部署选项

### 1. GitHub Actions（零服务器部署）
- **免费托管**：运行在GitHub基础设施上
- **自动调度**：可配置的cron表达式
- **签到系统**：7天活动周期管理资源使用
- **云存储**：需要S3兼容存储进行数据持久化

### 2. Docker 部署（推荐稳定性）
- **两个镜像**：
  - `wantcat/trendradar`：主新闻聚合服务
  - `wantcat/trendradar-mcp`：AI分析服务器
- **本地数据**：主机上的持久存储
- **Web界面**：内置HTTP服务器查看报告

### 3. 本地安装
- **直接Python**：在Windows/Mac/Linux上原生运行
- **安装脚本**：自动依赖安装

## 高级功能

### AI 分析能力（MCP服务器）
- **21个专用工具**：数据查询、分析、搜索、配置管理
- **自然语言界面**：与新闻数据对话
- **多客户端支持**：Claude Desktop、Cherry Studio、Cursor、VSCode扩展
- **趋势分析**：话题生命周期、情感跟踪、跨平台比较

### 智能内容处理
- **重复检测**：URL规范化防止重复通知
- **排名趋势**：跟踪话题排名升降
- **新内容高亮**：🆕 标记首次出现
- **平台特定格式**：为每个通知渠道优化显示

### 灵活配置
- **环境变量**：覆盖配置文件设置
- **多时区支持**：全局时区配置
- **代理支持**：适用于防火墙后的用户
- **调试模式**：详细日志用于故障排除

## 项目演进（基于最近提交）

1. **v5.0.0**（最新）：主要AI集成与分析推送功能
2. **v4.7.0**：增强关键词匹配，支持正则表达式
3. **v4.6.0**：按平台分组显示模式
4. **v4.5.0**：RSS订阅集成
5. **v4.0.0**：完整存储架构重新设计
6. **v3.0.0**：引入基于MCP的AI分析

## 目标用户

- **投资者**：监控市场相关新闻和情绪
- **内容创作者**：跟踪热门话题获取创作灵感
- **研究人员**：分析新闻模式和公众舆论
- **商业专业人士**：了解行业发展动态
- **普通用户**：个性化新闻消费，避免算法操控

## 核心优势

1. **零技术门槛**：Fork后几分钟内完成配置
2. **高度可定制**：丰富的配置选项
3. **多模态输出**：文本通知 + HTML报告 + AI分析
4. **资源高效**：智能过滤减少信息过载
5. **隐私优先**：自托管选项，完全数据控制
6. **活跃开发**：定期更新新功能

## 文件结构

```
TrendRadar/
├── trendradar/           # 主应用代码
│   ├── crawler/         # 爬虫模块
│   ├── storage/         # 存储模块
│   ├── notification/    # 通知模块
│   └── analysis/        # AI分析模块
├── mcp_server/          # MCP AI分析服务器
├── config/              # 配置文件
│   ├── config.yaml      # 主配置
│   └── frequency_words.txt # 关键词定义
├── docker/              # Docker配置
├── .github/workflows/   # GitHub Actions工作流
└── docs/               # 文档
```

## 快速开始

1. **Fork 仓库**
2. **配置关键词**：编辑 `config/frequency_words.txt`
3. **设置通知**：配置 `config/config.yaml` 中的通知渠道
4. **选择部署方式**：GitHub Actions、Docker 或本地运行
5. **启动服务**：开始接收个性化新闻推送

TrendRadar 代表了信息过载时代新闻消费的先进方法，结合传统网页抓取与现代AI分析，提供真正个性化和可操作的新闻情报。